<!--
  - Intro
  -->
<ion-card *ngIf="exercisePhase === 0">
  <ion-card-content>
    <ion-grid>
      <ion-row>
        <ion-button (click)="startExercise()">Continuar</ion-button>
      </ion-row>
      <ion-row>
        <img class="ion-margin" [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
        <img class="ion-margin" [src]="positionsExerciseService.getVentanaOpen().src" [height]="positionsExerciseService.getVentanaOpen().height" [width]="positionsExerciseService.getVentanaOpen().width"/>
        <img class="ion-margin" [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ion-card>

<!--
  - Countdown
  -->
<ion-card *ngIf="exercisePhase === 1">
  <ion-card-content>
    <h1>{{ this.countdownTimeLeft }}</h1>
  </ion-card-content>
</ion-card>

<!--
  - Exercise BUILDING
  -->
<ion-card *ngIf="exercisePhase === 2">
  <ion-card-content>
    <ion-grid>
      <div *ngFor="let row of positionsExerciseService.getPositionsMatrix(actualBuilding)">
        <ion-row>
          <div *ngFor="let col of row">
              <img *ngIf="col.value === false" class="ion-margin" [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
              <img *ngIf="col.value === true" class="ion-margin" [src]="positionsExerciseService.getVentanaOpen().src" [height]="positionsExerciseService.getVentanaOpen().height" [width]="positionsExerciseService.getVentanaOpen().width"/>
          </div>
        </ion-row>
      </div>
    </ion-grid>
  </ion-card-content>
</ion-card>

<!--
  - Answer
  -->
<ion-card *ngIf="exercisePhase === 3">
  <ion-card-content>
    <ion-grid>
      <ion-item-group>
        <div *ngFor="let row of positionsExerciseService.getPositionsMatrix(actualBuilding)">
          <ion-row>
            <ion-item *ngFor="let col of row">
              <img [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
              <ion-checkbox [(ngModel)]="col.isChecked"></ion-checkbox>
            </ion-item>
          </ion-row>
        </div>
      </ion-item-group>
    </ion-grid>
    <ion-button (click)="checkAnswer()">Finalizar</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Repetition message REP_TRY_AGAIN
  -->
<ion-card *ngIf="exercisePhase === 4">
  <ion-card-content>
    <ion-button (click)="tryAgain()">Nuevo Intento</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Next building message NEXT_BUILDING
  -->
<ion-card *ngIf="exercisePhase === 5">
  <ion-card-content>
    <ion-button (click)="nextBuildingIntro()">Siguiente Edificio</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Next building intro message NEXT_BUILDING_INTRO
  -->
<ion-card *ngIf="exercisePhase === 6">
  <ion-card-content>
    <ion-button (click)="nextExercise()">Continuar</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - End
  -->
<ion-card *ngIf="exercisePhase === 7">
  <ion-card-content>
    <ion-button (click)="endExercise()">Siguiente Ejercicio</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Error Try again message ERR_TRY_AGAIN
  -->
<ion-card *ngIf="exercisePhase === 8">
  <ion-card-content>
    <ion-button (click)="tryAgain()">Nuevo Intento</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Error Type 1 ERR_1
  -->
<ion-card *ngIf="exercisePhase === 9">
  <ion-card-content>
    <ion-grid>
      <div *ngFor="let row of positionsExerciseService.getPositionsMatrix(actualBuilding)">
        <ion-row>
          <div *ngFor="let col of row">
            <img *ngIf="col.value === false" class="ion-margin" [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
            <img *ngIf="col.value === true" class="ion-margin" [src]="positionsExerciseService.getVentanaOpen().src" [height]="positionsExerciseService.getVentanaOpen().height" [width]="positionsExerciseService.getVentanaOpen().width"/>
          </div>
        </ion-row>
      </div>
    </ion-grid>
    <ion-button (click)="errorTryAgain()">Nuevo Intento</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Error Type 2 ERR_2
  -->
<ion-card *ngIf="exercisePhase === 10">
  <ion-card-content>
    <ion-button (click)="tryAgain()">Nuevo Intento</ion-button>
  </ion-card-content>
</ion-card>

<!--
  - Error Type 3 ERR_3 // Error Type 4 ERR_4
  -->
<ion-card *ngIf="exercisePhase === 11 || exercisePhase === 12">
  <ion-card-content>
    <ion-grid>
      <div *ngFor="let row of positionsExerciseService.getPositionsMatrix(actualBuilding); let i = index;">
        <ion-row>
          <div *ngFor="let col of row">
            <img *ngIf="col.value === false" class="ion-margin" [src]="positionsExerciseService.getVentanaClose().src" [height]="positionsExerciseService.getVentanaClose().height" [width]="positionsExerciseService.getVentanaClose().width"/>
            <img *ngIf="col.value === true" class="ion-margin" [src]="positionsExerciseService.getVentanaOpen().src" [height]="positionsExerciseService.getVentanaOpen().height" [width]="positionsExerciseService.getVentanaOpen().width"/>
          </div>
        </ion-row>
        <span>{{ this.positionsExerciseService.getCorrectPositions(this.actualBuilding)[i] }}</span>
      </div>
    </ion-grid>
    <ion-button (click)="tryAgain()">Nuevo Intento</ion-button>
  </ion-card-content>
</ion-card>
